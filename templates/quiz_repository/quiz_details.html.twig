{% extends 'layout.html.twig' %}

{% block layout_title %}Quiz Details{% endblock %}

{% block content %}

    <!-- Button to go back to the list of quizzes -->
    <a href="{{ path('app_quiz_repository') }}" class="btn btn-primary">Back to Quiz List</a>


    <div class="quiz-details" style="margin-top: 1em">
        <p><strong>Quiz Type:</strong> {{ quiz.type }}</p>
        <p><strong>Created by:</strong> {{ quiz.trainer.name }}</p>
        <p><strong>Date Created:</strong> {{ quiz.creationDate|date('d-m-Y') }}</p>
    </div>

    <div class="text-center">
        <h2>Questions</h2>
    </div>

    {% for question in quiz.questions %}

        <!--display the question number-->
        <div class="question-number" style="margin-top: 5em">
            <h3>Question {{ loop.index }}</h3>
        </div>

        <div class="question">

            <div style="margin-top: 1em;">
                <strong><h5>Scenario:</h5></strong>
            </div>


            <div style="margin-top: 1em;">{{ question.caseScenario }}</div>

            <div style="margin-top: 1em;">
                <strong><h5>Question:</h5></strong>
            </div>


            <p>{{ question.questionText }}</p>
            <strong><h5>Options:</h5></strong>



            <ul>
                {% for option in question.options %}
                    <li>
                        <div style="margin-top: 1em; margin-bottom: 1em">
                            {{ option.optionText }}
                        </div>


                        <div style="margin-top: 1em;">
                            <span class="badge {{ option.isCorrect ? 'bg-success' : 'bg-danger' }}" style="margin-right: 5px;">{{ option.isCorrect ? 'Correct' : 'Wrong' }}</span>
                            <em>{{ option.feedback }}</em>
                        </div>
                    </li>
                {% endfor %}
            </ul>
</div>
{% endfor %}

{% endblock %}